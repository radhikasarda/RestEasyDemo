package com.axelor.restdemo.service;

import javax.persistence.EntityManager;

import com.axelor.restdemo.domain.Employee;
import com.google.inject.Inject;
import com.google.inject.Provider;
import com.google.inject.persist.Transactional;
import javax.inject.Singleton;

@Singleton
public class ServiceImpl implements Service{
  
  @Inject
  Provider<EntityManager> entityManagerProvider;

  EntityManager entityManager;
  
  Employee employee;
  
  @Transactional(rollbackOn = Exception.class)
  @Override
  public void insert(String name, String contact, String address) {
    entityManager = entityManagerProvider.get();
    employee=new Employee();
    employee.setName(name);
    employee.setContact(contact);
    employee.setAddress(address);
    entityManager.persist(employee); 
  } 
}
